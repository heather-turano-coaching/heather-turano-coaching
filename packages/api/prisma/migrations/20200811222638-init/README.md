# Migration `20200811222638-init`

This migration has been generated by Drew DeCarme at 8/11/2020, 10:26:38 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "Role" AS ENUM ('USER', 'ADMIN');

CREATE TYPE "AccountStatus" AS ENUM ('CONFIRMED', 'RESET_PASSWORD', 'CONFIRM_EMAIL');

CREATE TABLE "public"."Post" (
"body" text  NOT NULL ,"id" SERIAL,"published" boolean  NOT NULL ,"title" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."User" (
"confirmation_key" text  NOT NULL ,"email_address" text  NOT NULL ,"first_name" text  NOT NULL ,"id" text  NOT NULL ,"last_name" text  NOT NULL ,"password" text  NOT NULL ,"role" "Role" NOT NULL DEFAULT E'USER',"status" "AccountStatus" NOT NULL DEFAULT E'CONFIRM_EMAIL',
    PRIMARY KEY ("id"))

CREATE UNIQUE INDEX "User.email_address" ON "public"."User"("email_address")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200811222638-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,37 @@
+datasource db {
+  provider = "postgresql"
+  url = "***"
+}
+
+generator prisma_client {
+  provider = "prisma-client-js"
+}
+
+enum Role {
+  USER
+  ADMIN
+}
+
+enum AccountStatus {
+  CONFIRMED
+  RESET_PASSWORD
+  CONFIRM_EMAIL
+}
+
+model Post {
+  id        Int     @id @default(autoincrement())
+  title     String
+  body      String
+  published Boolean
+}
+
+model User {
+  id               String        @id @default(uuid())
+  password         String
+  email_address    String        @unique
+  first_name       String
+  last_name        String
+  confirmation_key String
+  status           AccountStatus @default(CONFIRM_EMAIL)
+  role             Role          @default(USER)
+}
```


